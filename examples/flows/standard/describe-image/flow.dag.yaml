inputs:
  question:
    type: string
    default: Please describe this image.
  input_image:
    type: image
    default: data/img1.jpg
outputs:
  answer:
    type: string
    reference: ${question_on_image.output}
  output_image:
    type: string
    reference: ${passthrough.output}
nodes:
- name: question_on_image
  type: custom_llm
  source:
    type: package_with_prompt
    tool: promptflow.tools.openai_gpt4v.OpenAI.chat
    path: question_on_image.jinja2
  inputs:
    connection: openai-connection
    question: ${inputs.question}
    test_image: ${passthrough.output}
    model: gpt-4-vision-preview
    max_tokens: 200
- name: passthrough
  type: python
  source:
    type: code
    path: passthrough.py
  inputs:
    input_image: ${inputs.input_image}
